{{ define "main" }}
<main id="site-main" class="container w-full max-w-screen-xl mx-auto">
    <div class="grid__wrapper docs docs__wrapper relative py-0 px-4 m-0 lg:flex lg:items-start lg:px-0">
        {{ partial "sidebar-nav.html" . }}
        <div class="docs__main min-h-screen w-full relative lg:w-3/4 xl:w-4/5 bg-gray-100 py-8 lg:pl-8">
            <div class="post lg:flex lg:flex-wrap lg:-mx-4 {{ if $.IsHome }}post-flex{{ else }}feed__wrapper{{ end }}">
                {{ $paginator := .Paginate (where .Site.RegularPages "Section" "css") }}

                {{ if gt $paginator.TotalPages 0 }}
                {{ range $index, $page := $paginator.Pages.ByWeight }}
                <article
                    class="{{ if and $.IsHome (eq $paginator.PageNumber 1) (eq $index 0) }}first-entry{{ else }}post-entry{{ end }} feed lg:w-1/3 lg:px-4 mb-6">
                    <div class="bg-white shadow-lg rounded-sm">
                        <div class="relative pt-3-2">
                            <a class="feed__link" href="{{ .Permalink }}">
                                {{ if .Params.thumbnail }}
                                <img class="lazyload absolute top-0 left-0 w-full h-full" alt="{{ .Title }}"
                                    data-src="{{ .Params.thumbnail | relURL }}" width="100%" height="100%" />
                                {{ else }}
                                <img class="lazyload absolute top-0 left-0 w-full h-full" alt="{{ .Title }}"
                                    data-src="/images/html/cover/html.png" width="100%" height="100%" />
                                {{ end }}
                            </a>
                        </div>
                        <div class="pt-4 pb-6">
                            <a class="text-xs text-gray-500 uppercase hover:no-underline border-l-4 border-solid border-primary px-2" href="/html/">HTML</a>

                            <h3 class="feed__title text-base px-4 mb-2"><a
                                    class="text-gray-700 hover:text-secondary hover:no-underline"
                                    href="{{ .Permalink}}">{{ .Title }}</a>
                            </h3>

                            {{ if not $.IsHome }}
                            <div class="feed__meta flex items-center px-4">
                                {{ $taxonomy := "authors" }}
                                {{ with .Param $taxonomy }}
                                {{ range $index, $author := . }}
                                {{ with $.Site.GetPage (printf "/%s/%s" $taxonomy $author) -}}
                                <img src="{{ .Params.avatar }}" class="feed__avatar w-8 h-8 rounded-full mr-2"
                                    alt="{{ .Title }}">
                                <a class="feed__author text-xs text-gray-600 hover:no-underline hover:text-primary mr-2" href="{{ .Permalink }}">{{ .Title }}</a>
                                {{ end }}
                                {{ end }}
                                {{ end }}
                                <time class="feed__published text-xs text-gray-500"> -
                                    {{ with .Site.Params.dateFormat }}{{ $.Date.Format . }}{{ else }}{{ .Date.Format "02 January 2006" }}{{ end }}</time>
                            </div>
                            {{ end }}
                        </div>
                    </div>
                </article>
                {{ end }}
                {{ end }}

                {{ partial "pagination.html" . }}
            </div>


        </div>
    </div>
</main>
{{ end }}